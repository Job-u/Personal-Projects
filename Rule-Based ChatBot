import re

class RuleBot:
    exit_commands = ("bye", "thanks", "done", "quit", "ty", "thats all", "thank you", "thank u")
    
    translations = {
        "Good to see you": {"filipino": "Buti na lang nakita kita", "casiguran_agta": "meta"},
        "How are you": {"filipino": "Kamusta ka na?", "casiguran_agta": "Kumusta kam dén"},
        "I am fine": {"filipino": "Mabuti naman.", "casiguran_agta": "ma ige be"},
        "Thank you": {"filipino": "Maraming salamat.", "casiguran_agta": "me ado a salamat"},
        "I am sorry": {"filipino": "Patawarin mo ako.", "casiguran_agta": "Patawadén nék mo"},
        "Yes": {"filipino": "Opo.", "casiguran_agta": "on"},
        "No": {"filipino": "Hindi po.", "casiguran_agta": "ewan be"},
        "What is your name": {"filipino": "Ano ang pangalan mo?", "casiguran_agta": "anya i ngahen moa"},
        "I love you": {"filipino": "Mahal kita.", "casiguran_agta": "gusto taka"},
        "Welcome home": {"filipino": "Maligayang pagdating.", "casiguran_agta": "mehusay a demét"},
        "God bless you": {"filipino": "Pagpalain ka nawa ng Panginoon.", "casiguran_agta": "kagbian ka na Apo"},
        "dog": {"filipino": "aso", "casiguran_agta": "aso"},
        "happy": {"filipino": "masaya", "casiguran_agta": "mesahat"},
        "family": {"filipino": "pamilya", "casiguran_agta": "mététena"},
    }

    def __init__(self):
        print("Welcome to the Casiguran Agta language chatbot! Type a word or phrase to translate.")

    def translate(self, user_input):
        # Convert input to lowercase and remove punctuation
        user_input = re.sub(r'[^a-zA-Z0-9\s]', '', user_input.lower())

        for english, translations in self.translations.items():
            # Convert stored phrases to lowercase and remove punctuation for better matching
            english_clean = re.sub(r'[^a-zA-Z0-9\s]', '', english.lower())
            filipino_clean = re.sub(r'[^a-zA-Z0-9\s]', '', translations['filipino'].lower())
            agta_clean = re.sub(r'[^a-zA-Z0-9\s]', '', translations['casiguran_agta'].lower())

            # Check if ANY keyword is found inside the user input
            if english_clean in user_input or filipino_clean in user_input or agta_clean in user_input:
                return f"English: {english}\nFilipino: {translations['filipino']}\nCasiguran Agta: {translations['casiguran_agta']}"

        return "Sorry, I don't have a translation for that yet."

    def chat(self):
        while True:
            user_input = input("Enter a word or phrase (or type 'quit' to exit): ")
            if user_input.lower() in self.exit_commands:
                print("Goodbye! Maraming salamat!")
                break
            print(self.translate(user_input))

AgtaBot = RuleBot()
AgtaBot.chat()
